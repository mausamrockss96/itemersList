{"ast":null,"code":"var _jsxFileName = \"/home/mausam/travnode/client/src/components/auth/RegisterModal.js\";\n//atlast importing this file on appNavbar.js to display there\nimport React, { Component } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, NavLink, Alert } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { register } from '../../actions/authActions';\nimport { clearErrors } from '../../actions/errorActions';\n\nclass RegisterModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modal: false,\n      name: '',\n      email: '',\n      password: '',\n      msg: null\n    };\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault(); //from register\n\n      const {\n        name,\n        email,\n        password\n      } = this.state; //create user object\n\n      const newUser = {\n        name,\n        email,\n        password\n      }; //attempt to register\n\n      this.props.register(newUser);\n    };\n  }\n\n  //to show the msg notification of error REGISTER_FAIL\n  componentDidUpdate(previousProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== previousProps.error) {\n      //check for the register error\n      if (error.id === 'REGISTER_FAIL') {\n        this.setState({\n          msg: error.msg.msg //in redux there r two messages,if this msg has something in it we want to output alert, so putting alert above\n\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      onClick: this.toggle,\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, this.state.msg, \" \") : null, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      placeholder: \"Name\",\n      className: \"mb-3\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      email: \"email\",\n      id: \"email\",\n      placeholder: \"Email\",\n      className: \"mb-3\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      placeholder: \"Password\",\n      className: \"mb-3\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"dark\",\n      style: {\n        marginTop: \"2rem\"\n      },\n      block: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }, \"Register\"))))));\n  }\n\n} //As far as the state that we want to bring in, we want to bring in the value of isAuthenticated, because once we register we want to close it if we r authenticated\n//another we want to add is errorState so that we can output the error message \n//and this auth and error , i am getting from reducer/index.js which will give us access to all the stuff within the state of the error and the auth reducer\n\n\nRegisterModal.propTypes = {\n  isAuthenticated: PropTypes.bool,\n  // i am not going to do require because it can be null\n  error: PropTypes.object.isRequired,\n  register: PropTypes.func.isRequired,\n  clearErrors: RegisterModal.propTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  error: state.error\n});\n\nexport default connect(mapStateToProps, {\n  register\n})(RegisterModal);","map":{"version":3,"sources":["/home/mausam/travnode/client/src/components/auth/RegisterModal.js"],"names":["React","Component","Button","Modal","ModalHeader","ModalBody","Form","FormGroup","Label","Input","NavLink","Alert","connect","PropTypes","register","clearErrors","RegisterModal","state","modal","name","email","password","msg","toggle","setState","onChange","e","target","value","onSubmit","preventDefault","newUser","props","componentDidUpdate","previousProps","error","id","render","marginTop","propTypes","isAuthenticated","bool","object","isRequired","func","mapStateToProps","auth"],"mappings":"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","sourcesContent":["//atlast importing this file on appNavbar.js to display there\n\n\nimport React,{ Component } from 'react';\nimport {\n    Button,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    Form,\n    FormGroup,\n    Label,\n    Input,\n    NavLink,\n    Alert\n} from 'reactstrap';\n\n\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { register } from '../../actions/authActions';\nimport { clearErrors } from '../../actions/errorActions';\n\nclass RegisterModal extends Component\n{\n    state = {\n        modal: false,\n        name: '',\n        email: '',\n        password: '',\n        msg: null\n    }\n\n\nstatic  propTypes = {\n    isAuthenticated: PropTypes.bool,         // i am not going to do require because it can be null\n    error: PropTypes.object.isRequired,\n    register: PropTypes.func.isRequired,\n    clearErrors: this.propTypes.func.isRequired\n}\n\n\n//to show the msg notification of error REGISTER_FAIL\ncomponentDidUpdate(previousProps)\n{\n    const { error } = this.props;\n    if (error !== previousProps.error)\n    {\n        //check for the register error\n        if(error.id === 'REGISTER_FAIL')\n        {\n            this.setState({\n                msg: error.msg.msg              //in redux there r two messages,if this msg has something in it we want to output alert, so putting alert above\n                \n            });\n            \n        }\n        else {\n            this.setState({ \n                msg: null\n            });\n        }\n    }\n}\n \n   \ntoggle = () => {\n       this.setState({\n           modal: !this.state.modal\n       });\n}\n\nonChange = (e) => {\n    this.setState({\n        [e.target.name]: e.target.value\n    });\n}\n\n\n\n//when we deal with the backend the mongodb itself creates an ID on its own but right now we have to create our own id so we bringing back again UUID\nonSubmit = e => {\n    e.preventDefault();\n\n    //from register\n    const { name, email, password } = this.state;\n\n    //create user object\n    const newUser = {\n        name,\n        email,\n        password\n    };\n\n    //attempt to register\n    this.props.register(newUser);\n\n\n}\n\n\n\n\nrender()\n{\n    return(\n        <div>\n\n            {/* <Button\n                color= \"dark\"\n                style ={{ marginBottom: '8rem' }}\n                onClick = { this.toggle }\n\n            \n            >Add Item\n            </Button> */}\n\n            <NavLink onClick={this.toggle} href='#'>\n                Register\n            </NavLink>\n\n            <Modal\n            isOpen = {this.state.modal}\n            toggle={this.toggle}\n            \n            >\n            <ModalHeader toggle={this.toggle}>Register</ModalHeader>\n\n            <ModalBody>\n\n                {this.state.msg ? (\n                    <Alert color= 'danger'>{this.state.msg} </Alert>\n                ) : null }\n\n                <Form onSubmit = {this.onSubmit}>\n                    <FormGroup>\n                        <Label for=\"name\">\n                            Name\n                        </Label>\n                        <Input\n                        type = \"text\"\n                        name = \"name\"\n                        id=\"name\"\n                        placeholder = \"Name\"\n                        className = \"mb-3\"\n                        onChange={this.onChange}\n                        >\n                        </Input>\n\n                        \n                        \n                        \n                        <Label for=\"email\">\n                            Email\n                        </Label>\n                        <Input\n                        type = \"email\"\n                        email = \"email\"\n                        id=\"email\"\n                        placeholder = \"Email\"\n                        className = \"mb-3\"\n                        onChange={this.onChange}\n                        >\n                        </Input>\n\n\n\n                        <Label for=\"password\">\n                            Password\n                        </Label>\n                        <Input\n                        type = \"password\"\n                        name = \"password\"\n                        id=\"password\"\n                        placeholder = \"Password\"\n                        className = \"mb-3\"\n                        onChange={this.onChange}\n                        >\n                        </Input>\n\n                        <Button color=\"dark\" style = {{marginTop:\"2rem\"}} block>\n                            Register\n\n                        </Button>\n                    </FormGroup>\n\n                </Form>\n            </ModalBody>\n            </Modal>\n\n        </div>\n    )\n}\n}\n\n\n//As far as the state that we want to bring in, we want to bring in the value of isAuthenticated, because once we register we want to close it if we r authenticated\n//another we want to add is errorState so that we can output the error message \n//and this auth and error , i am getting from reducer/index.js which will give us access to all the stuff within the state of the error and the auth reducer\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    error: state.error\n});\n\n\nexport default connect(mapStateToProps, { register }) (RegisterModal);\n"]},"metadata":{},"sourceType":"module"}